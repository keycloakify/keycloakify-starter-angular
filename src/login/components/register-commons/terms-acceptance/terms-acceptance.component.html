@let termsAcceptanceRequired = kcContext.termsAcceptanceRequired;
@let messagesPerField = kcContext.messagesPerField;

@if (termsAcceptanceRequired) {
    <div class="form-group">
        <div [kcClass]="'kcInputWrapperClass'">
            {{ i18n.msgStr('termsTitle') }}
            <div id="kc-registration-terms-text">
                <span [innerHTML]="i18n.msgStr('termsText') | kcSanitize: 'html'"> </span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div [kcClass]="'kcLabelWrapperClass'">
            <input
                type="checkbox"
                id="termsAccepted"
                name="termsAccepted"
                (change)="areTermsAccepted.emit($any($event.target).checked)"
                [kcClass]="'kcCheckboxInputClass'"
                [attr.aria-invalid]="messagesPerField.existsError('termsAccepted')"
            />
            <label
                for="termsAccepted"
                [kcClass]="'kcLabelClass'"
            >
                {{ i18n.msgStr('acceptTerms') }}
            </label>
        </div>
        @if (messagesPerField.existsError('termsAccepted')) {
            <div [kcClass]="'kcLabelWrapperClass'">
                <span
                    id="input-error-terms-accepted"
                    [kcClass]="'kcInputErrorMessageClass'"
                    aria-live="polite"
                    [innerHTML]="messagesPerField.get('termsAccepted') | kcSanitize: 'html'"
                >
                </span>
            </div>
        }
    </div>
}
