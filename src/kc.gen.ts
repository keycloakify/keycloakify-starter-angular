// This file is auto-generated by keycloakify. Do not edit it manually.
// Hash: a1b7e7f41e5a839892bd9a8a18d734214b2ae6e5592a8b086923fba2c8f19dfc

/* eslint-disable */

// @ts-nocheck

// noinspection JSUnusedGlobalSymbols

import type {
    ApplicationRef,
    ComponentRef,
    EnvironmentProviders,
    Type
} from '@angular/core';

export type ThemeName = 'keycloakify-starter-angular';

export const themeNames: ThemeName[] = ['keycloakify-starter-angular'];

export type KcEnvName = never;

export const kcEnvNames: KcEnvName[] = [];

export const kcEnvDefaults: Record<KcEnvName, string> = {};

export type KcContext = import('./login/KcContext').KcContext;

declare global {
    interface Window {
        kcContext?: KcContext;
    }
}

export async function bootstrapKcApplication(params: {
    kcContext: KcContext;
    bootstrapApplication: (params: {
        KcRootComponent: Type<unknown>;
        kcProvider: EnvironmentProviders;
    }) => Promise<ApplicationRef>;
}): Promise<ApplicationRef> {
    const { kcContext, bootstrapApplication } = params;
    let appRef: ApplicationRef;

    switch (kcContext.themeType) {
        case 'login':
            {
                const [
                    { provideKeycloakifyAngular },
                    { getI18n },
                    {
                        PageComponent,
                        TemplateComponent,
                        doUseDefaultCss,
                        classes,
                        UserProfileFormFieldsComponent,
                        doMakeUserConfirmPassword
                    }
                ] = await Promise.all([
                    import('@keycloakify/angular/login/providers/keycloakify-angular'),
                    import('./login/i18n'),
                    import('./login/KcPage').then(({ getKcPage }) =>
                        getKcPage(kcContext.pageId)
                    )
                ] as const);

                appRef = await bootstrapApplication({
                    KcRootComponent: TemplateComponent,
                    kcProvider: provideKeycloakifyAngular({
                        kcContext,
                        classes,
                        getI18n,
                        doUseDefaultCss,
                        doMakeUserConfirmPassword
                    })
                });

                appRef.components.forEach(componentRef => {
                    // page must be defined first
                    if ('page' in componentRef.instance) {
                        componentRef.setInput('page', PageComponent);
                    }
                    if ('userProfileFormFields' in componentRef.instance) {
                        componentRef.setInput(
                            'userProfileFormFields',
                            UserProfileFormFieldsComponent
                        );
                    }
                });
            }
            break;
        default:
            throw new Error('wrong themeType');
    }

    return appRef;
}
